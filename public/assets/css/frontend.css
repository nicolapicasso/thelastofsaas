/**
 * We're Sinapsis CMS - Frontend Styles
 * Design System: Sinapsis Brand Guidelines
 */

/* Montserrat Font Import */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&display=swap');

:root {
    /* ============================================
       Sinapsis Brand Colors
       ============================================ */

    /* Primary - Visual/Design Area */
    --color-primary: #215A6B;
    --color-primary-light: #4C8693;
    --color-primary-dark: #12414C;

    /* Secondary - Marketing Area */
    --color-secondary: #F9AF00;
    --color-secondary-light: #FFC969;
    --color-secondary-dark: #B77602;

    /* Base Colors */
    --color-dark: #1A1A1A;
    --color-white: #FFFFFF;

    /* Sinapsis Web Palette */
    --white-sinapsis: #FFFFFF;
    --black-sinapsis: #1A1A1A;
    --lightgray-sinapsis: #383938;
    --primaryblue-sinapsis: #A9B8B0;
    --yellow-sinapsis: #FED684;
    --gray-sinapsis: #E0E0E0;

    /* Semantic Colors */
    --color-success: #22c55e;
    --color-warning: #F9AF00;
    --color-danger: #ef4444;

    /* Grays - Sinapsis adjusted */
    --color-gray-50: #FAFAFA;
    --color-gray-100: #F5F5F5;
    --color-gray-200: #E0E0E0;
    --color-gray-300: #BDBDBD;
    --color-gray-400: #9E9E9E;
    --color-gray-500: #757575;
    --color-gray-600: #616161;
    --color-gray-700: #4D4D4D;
    --color-gray-800: #383938;
    --color-gray-900: #1A1A1A;

    /* ============================================
       Typography - Montserrat
       ============================================ */
    --font-primary: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-secondary: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-family: var(--font-secondary);

    /* Font Sizes - Sinapsis Scale */
    --font-size-xs: 0.75rem;   /* 12px */
    --font-size-sm: 0.875rem;  /* 14px */
    --font-size-base: 1rem;    /* 16px */
    --font-size-lg: 1.125rem;  /* 18px */
    --font-size-xl: 1.25rem;   /* 20px - Subtitle */
    --font-size-2xl: 1.5rem;   /* 24px - H4 */
    --font-size-3xl: 2rem;     /* 32px - H3 */
    --font-size-4xl: 2.5rem;   /* 40px - H2 */
    --font-size-5xl: 3rem;     /* 48px - H1 */

    /* Font Weights */
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-bold: 700;
    --font-weight-black: 900;

    /* ============================================
       Spacing
       ============================================ */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    --spacing-3xl: 4rem;

    /* ============================================
       Border Radius - Angular Style
       ============================================ */
    --radius-sm: 0;
    --radius-md: 0;
    --radius-lg: 0;
    --radius-xl: 0;
    --radius-pill: 0;
    --radius-full: 9999px;     /* Keep for circular elements like avatars */

    /* ============================================
       Shadows
       ============================================ */
    --shadow-sm: 0 1px 2px rgba(26, 26, 26, 0.05);
    --shadow-md: 0 4px 6px rgba(26, 26, 26, 0.08);
    --shadow-lg: 0 10px 20px rgba(26, 26, 26, 0.1);
    --shadow-xl: 0 20px 40px rgba(26, 26, 26, 0.12);

    /* ============================================
       Transitions
       ============================================ */
    --transition: 0.2s ease;
    --transition-slow: 0.3s ease;

    /* ============================================
       Layout
       ============================================ */
    --container-max: 1200px;
    --header-height: 80px;
}

/* Reset */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    font-size: var(--font-size-base);
    line-height: 1.6;
    color: var(--color-gray-700);
    background-color: var(--color-white);
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
}

/* Typography - Sinapsis Scale */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-primary);
    line-height: 1.2;
    color: var(--color-dark);
}

/* H1: 48px, Black (900) */
h1 {
    font-size: var(--font-size-5xl);
    font-weight: var(--font-weight-black);
}

/* H2: 40px, Bold (700) */
h2 {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
}

/* H3: 32px, Medium (500) */
h3 {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-medium);
}

/* H4: 24px, Bold (700) */
h4 {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
}

/* H5: 20px, Medium (500) - Subtitle */
h5 {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-medium);
}

/* H6: 18px, Medium (500) */
h6 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-medium);
}

/* Body: 16px, Regular (400) */
p, li {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-regular);
}

p { margin-bottom: var(--spacing-md); }

/* Labels: 16px, Medium (500) */
label, .label {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
}

/* Subtitle utility class */
.subtitle {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-medium);
}

a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color var(--transition);
}

a:hover {
    color: var(--color-primary-dark);
}

/* Container */
.container {
    width: 100%;
    max-width: var(--container-max);
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
}

/* ============================================
   Buttons - Sinapsis Style
   ============================================ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    padding: 0.875rem 2rem;
    font-family: var(--font-primary);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-pill);
    border: none;
    cursor: pointer;
    transition: all var(--transition);
    text-decoration: none;
}

/* Primary Button - Solid black style */
.btn-primary {
    background-color: var(--black-sinapsis);
    color: var(--color-white);
    border: none;
    border-radius: var(--radius-pill);
    font-weight: var(--font-weight-bold);
}

.btn-primary:hover {
    background-color: var(--color-dark);
    color: var(--color-white);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* Secondary Button - Marketing color */
.btn-secondary {
    background-color: var(--color-secondary);
    color: var(--color-dark);
    border-radius: var(--radius-pill);
}

.btn-secondary:hover {
    background-color: var(--color-secondary-dark);
    color: var(--color-white);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* Outline Button - White with black border */
.btn-outline {
    background-color: var(--color-white);
    border: 1px solid var(--black-sinapsis);
    color: var(--black-sinapsis);
    border-radius: var(--radius-pill);
    font-weight: var(--font-weight-medium);
}

.btn-outline:hover {
    background-color: var(--black-sinapsis);
    border-color: var(--black-sinapsis);
    color: var(--color-white);
}

/* White Button */
.btn-white {
    background-color: var(--color-white);
    color: var(--color-primary);
    border-radius: var(--radius-pill);
}

.btn-white:hover {
    background-color: var(--color-gray-100);
    color: var(--color-primary);
    transform: translateY(-2px);
}

/* Dark Button */
.btn-dark {
    background-color: var(--black-sinapsis);
    color: var(--color-white);
    border-radius: var(--radius-pill);
}

.btn-dark:hover {
    background-color: var(--lightgray-sinapsis);
    color: var(--color-white);
    transform: translateY(-2px);
}

/* Button Sizes */
.btn-lg {
    padding: 1.125rem 2.5rem;
    font-size: var(--font-size-lg);
}

.btn-sm {
    padding: 0.5rem 1.25rem;
    font-size: var(--font-size-sm);
}

.btn-block {
    width: 100%;
}

/* ============================================
   Header - Sinapsis Style (Dark)
   ============================================ */

.site-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--header-height);
    background-color: var(--black-sinapsis);
    border-bottom: none;
    z-index: 1000;
}

.main-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: var(--header-height);
}

.logo {
    position: relative;
    display: flex;
    align-items: center;
}

.logo img {
    height: 40px;
    width: auto;
}

/* Animated logo on hover (for GIF logos) */
.logo.has-animated-logo .logo-static {
    display: block;
}

.logo.has-animated-logo .logo-animated {
    display: none;
}

.logo.has-animated-logo:hover .logo-static {
    display: none;
}

.logo.has-animated-logo:hover .logo-animated {
    display: block;
}

.nav-menu {
    display: flex;
    align-items: center;
    gap: var(--spacing-xl);
    list-style: none;
}

.nav-menu a {
    color: var(--color-white);
    font-weight: var(--font-weight-medium);
    padding: var(--spacing-sm) 0;
    position: relative;
    opacity: 0.9;
}

.nav-menu a:hover,
.nav-menu a.active {
    color: var(--color-white);
    opacity: 1;
}

.nav-menu a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background-color: var(--yellow-sinapsis);
    transition: width var(--transition);
}

.nav-menu a:hover::after,
.nav-menu a.active::after {
    width: 100%;
}

/* Submenu arrow */
.nav-menu .submenu-arrow {
    font-size: 10px;
    margin-left: 4px;
    transition: transform var(--transition);
}

.nav-menu .has-submenu:hover .submenu-arrow {
    transform: rotate(180deg);
}

/* Submenu dropdown */
.nav-menu > li {
    position: relative;
}

.nav-menu .has-submenu > a::after {
    display: none;
}

.nav-menu .submenu {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%) translateY(10px);
    min-width: 220px;
    background: var(--color-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xl);
    padding: var(--spacing-sm) 0;
    list-style: none;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition);
    z-index: 1000;
}

.nav-menu .submenu::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 0;
    right: 0;
    height: 10px;
}

.nav-menu .has-submenu:hover .submenu {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

.nav-menu .submenu li {
    margin: 0;
}

.nav-menu .submenu a {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-lg);
    color: var(--color-gray-700);
    font-size: var(--font-size-sm);
    white-space: nowrap;
    transition: all var(--transition);
}

.nav-menu .submenu a::after {
    display: none;
}

.nav-menu .submenu a:hover {
    background-color: var(--color-gray-50);
    color: var(--color-primary);
}

.nav-menu .submenu a i {
    width: 20px;
    text-align: center;
    color: var(--color-primary);
}

/* 3rd level submenu */
.nav-menu .submenu li {
    position: relative;
}

.nav-menu .submenu li.has-submenu > a {
    justify-content: space-between;
}

.nav-menu .submenu .submenu-arrow-right {
    font-size: 10px;
    margin-left: auto;
    transition: transform var(--transition);
}

.nav-menu .submenu li.has-submenu:hover > a .submenu-arrow-right {
    transform: translateX(3px);
}

.nav-menu .submenu .submenu-level-3 {
    position: absolute;
    top: 0;
    left: 100%;
    transform: translateX(10px);
    min-width: 200px;
    opacity: 0;
    visibility: hidden;
}

.nav-menu .submenu li.has-submenu:hover > .submenu-level-3 {
    opacity: 1;
    visibility: visible;
    transform: translateX(0);
}

.nav-actions {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.mobile-toggle {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 5px;
    background: none;
    border: none;
    cursor: pointer;
    padding: var(--spacing-md);
    min-width: 44px;
    min-height: 44px;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    position: relative;
    z-index: 1001;
}

.mobile-toggle span {
    display: block;
    width: 24px;
    height: 2px;
    background-color: var(--color-white);
    transition: var(--transition);
    pointer-events: none;
}

/* ============================================
   Main Content
   ============================================ */

.site-main {
    padding-top: var(--header-height);
    min-height: calc(100vh - var(--header-height));
}

/* ============================================
   Footer - Sinapsis Style (Dark)
   ============================================ */

.site-footer {
    background-color: var(--black-sinapsis);
    color: var(--color-gray-400);
    padding: var(--spacing-3xl) 0 var(--spacing-xl);
}

.footer-grid {
    display: grid;
    grid-template-columns: 2fr repeat(4, 1fr);
    gap: var(--spacing-2xl);
    margin-bottom: var(--spacing-2xl);
}

.footer-brand {
    padding-right: var(--spacing-xl);
}

.footer-logo img {
    height: 32px;
    margin-bottom: var(--spacing-md);
}

.footer-brand p {
    margin-bottom: var(--spacing-lg);
    color: var(--color-gray-400);
}

.social-links {
    display: flex;
    gap: var(--spacing-md);
}

.social-links a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: var(--lightgray-sinapsis);
    border-radius: var(--radius-full);
    color: var(--color-gray-400);
    transition: all var(--transition);
}

.social-links a:hover {
    background-color: var(--yellow-sinapsis);
    color: var(--black-sinapsis);
}

.footer-nav h4 {
    color: var(--color-white);
    font-size: var(--font-size-base);
    font-weight: 600;
    margin-bottom: var(--spacing-lg);
}

.footer-nav ul {
    list-style: none;
}

.footer-nav li {
    margin-bottom: var(--spacing-sm);
}

.footer-nav a {
    color: var(--color-gray-400);
    font-size: var(--font-size-sm);
}

.footer-nav a:hover {
    color: var(--color-white);
}

.footer-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--lightgray-sinapsis);
    font-size: var(--font-size-sm);
}

.footer-lang {
    display: flex;
    gap: var(--spacing-md);
}

.footer-lang a {
    color: var(--color-gray-500);
}

.footer-lang a.active,
.footer-lang a:hover {
    color: var(--color-white);
}

/* Footer Partner Badges */
.footer-partners {
    padding: var(--spacing-lg) 0;
    border-top: 1px solid var(--lightgray-sinapsis);
    margin-top: var(--spacing-lg);
}

.partner-badges {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-lg);
}

.partner-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-md);
    transition: all 0.3s ease;
}

.partner-badge:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.partner-badge img {
    max-height: 50px;
    max-width: 120px;
    object-fit: contain;
    transition: transform 0.3s ease;
}

.partner-badge:hover img {
    transform: scale(1.05);
}

/* ============================================
   Sections
   ============================================ */

.section {
    padding: var(--spacing-3xl) 0;
}

.section-header {
    text-align: center;
    max-width: 700px;
    margin: 0 auto var(--spacing-2xl);
}

.section-header h2 {
    margin-bottom: var(--spacing-md);
}

.section-header p {
    color: var(--color-gray-600);
    font-size: var(--font-size-lg);
}

/* Background Variants */
.bg-light {
    background-color: var(--color-gray-50);
}

.bg-dark {
    background-color: var(--color-dark);
    color: var(--color-white);
}

.bg-dark h2, .bg-dark h3, .bg-dark h4 {
    color: var(--color-white);
}

.bg-primary {
    background-color: var(--color-primary);
    color: var(--color-white);
}

.bg-primary h2, .bg-primary h3, .bg-primary h4 {
    color: var(--color-white);
}

/* ============================================
   Cards - Sinapsis Style (20px radius)
   ============================================ */

.card {
    background-color: var(--color-white);
    border-radius: var(--radius-lg); /* 20px */
    box-shadow: var(--shadow-md);
    overflow: hidden;
    transition: all var(--transition);
}

.card:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-4px);
}

.card-image {
    aspect-ratio: 16/9;
    overflow: hidden;
    border-radius: var(--radius-lg); /* 20px - Sinapsis */
}

.card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: var(--radius-lg);
}

.card-body {
    padding: var(--spacing-lg);
}

.card-title {
    font-size: var(--font-size-xl);
    margin-bottom: var(--spacing-sm);
}

.card-text {
    color: var(--color-gray-600);
    margin-bottom: var(--spacing-md);
}

/* ============================================
   Grid Layouts
   ============================================ */

.grid {
    display: grid;
    gap: var(--spacing-xl);
}

.grid-2 { grid-template-columns: repeat(2, 1fr); }
.grid-3 { grid-template-columns: repeat(3, 1fr); }
.grid-4 { grid-template-columns: repeat(4, 1fr); }

/* ============================================
   Responsive
   ============================================ */

@media (max-width: 1024px) {
    .footer-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .footer-brand {
        grid-column: 1 / -1;
    }

    .grid-4 { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 768px) {
    :root {
        --font-size-5xl: 2.5rem;
        --font-size-4xl: 2rem;
        --font-size-3xl: 1.5rem;
    }

    .nav-menu,
    .nav-actions {
        display: none;
    }

    .mobile-toggle {
        display: flex;
        z-index: 1001;
    }

    /* Hamburger animation when active */
    .mobile-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
    }

    .mobile-toggle.active span:nth-child(2) {
        opacity: 0;
    }

    .mobile-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(5px, -5px);
    }

    /* Mobile menu open state - Sinapsis Dark */
    .nav-menu.active {
        display: flex;
        flex-direction: column;
        position: fixed;
        top: var(--header-height);
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--black-sinapsis);
        padding: var(--spacing-lg);
        border-top: 1px solid var(--lightgray-sinapsis);
        box-shadow: var(--shadow-lg);
        z-index: 1000;
        overflow-y: auto;
    }

    .nav-menu.active a {
        padding: var(--spacing-md) 0;
        border-bottom: 1px solid var(--lightgray-sinapsis);
        font-size: var(--font-size-lg);
        color: var(--color-white);
    }

    /* Mobile submenu styles */
    .nav-menu.active .has-submenu {
        flex-direction: column;
        align-items: stretch;
    }

    .nav-menu.active .has-submenu > a {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .nav-menu.active .submenu {
        position: static;
        transform: none;
        opacity: 1;
        visibility: visible;
        box-shadow: none;
        background: var(--lightgray-sinapsis);
        border-radius: var(--radius-md);
        margin: var(--spacing-sm) 0;
        padding: var(--spacing-sm);
        max-height: 0;
        overflow: hidden;
        transition: max-height var(--transition-slow);
    }

    .nav-menu.active .has-submenu.open .submenu {
        max-height: 500px;
    }

    .nav-menu.active .submenu::before {
        display: none;
    }

    .nav-menu.active .submenu a {
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: var(--font-size-base);
        border-bottom: none;
        color: var(--color-white);
    }

    .nav-menu.active .submenu a:hover {
        background-color: var(--color-gray-700);
    }

    .nav-menu.active .submenu-arrow {
        font-size: 12px;
        transition: transform var(--transition);
    }

    .nav-menu.active .has-submenu.open .submenu-arrow {
        transform: rotate(180deg);
    }

    /* Show nav-actions inside mobile menu - Sinapsis Dark */
    .main-nav.menu-open .nav-actions {
        display: flex;
        flex-direction: column;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: var(--spacing-lg);
        background: var(--black-sinapsis);
        border-top: 1px solid var(--lightgray-sinapsis);
        gap: var(--spacing-sm);
        z-index: 1000;
    }

    .main-nav.menu-open .nav-actions .btn {
        width: 100%;
        justify-content: center;
    }

    /* Prevent body scroll when menu is open */
    body.menu-open {
        overflow: hidden;
    }

    .footer-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .footer-bottom {
        flex-direction: column;
        gap: var(--spacing-md);
        text-align: center;
    }

    .partner-badges {
        gap: var(--spacing-md);
    }

    .partner-badge img {
        max-height: 40px;
        max-width: 100px;
    }

    .grid-2,
    .grid-3,
    .grid-4 {
        grid-template-columns: 1fr;
    }

    .section {
        padding: var(--spacing-2xl) 0;
    }
}

/* =============================================
   Visibility Classes
   ============================================= */

/* Hide on mobile (show only on desktop) */
.desktop-only {
    display: block;
}

/* Hide on desktop (show only on mobile) */
.mobile-only {
    display: none;
}

/* Hide everywhere */
.hidden-all {
    display: none !important;
}

@media (max-width: 768px) {
    .desktop-only {
        display: none !important;
    }

    .mobile-only {
        display: block;
    }
}

/* =============================================
   Knowledge Base - Sticky Sidebar
   ============================================= */

/* Ensure the section and container don't block sticky */
.knowledge-article-section,
.knowledge-article-section > .container {
    overflow: visible !important;
}

.knowledge-layout {
    display: grid;
    gap: var(--spacing-xl);
}

/* Left sidebar container */
.knowledge-sidebar.knowledge-sidebar-left {
    align-self: start;
}

/* Sidebar wrapper - no height restrictions, show all content */
.sidebar-sticky-wrapper {
    /* No max-height or overflow - display full content */
}

/* Right sidebar (index, category, search pages) - these don't have wrapper, so sticky on aside itself */
.knowledge-sidebar:not(.knowledge-sidebar-left) {
    position: -webkit-sticky;
    position: sticky;
    top: 100px;
    align-self: start;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--color-gray-300) transparent;
}

.knowledge-sidebar:not(.knowledge-sidebar-left)::-webkit-scrollbar {
    width: 6px;
}

.knowledge-sidebar:not(.knowledge-sidebar-left)::-webkit-scrollbar-track {
    background: transparent;
}

.knowledge-sidebar:not(.knowledge-sidebar-left)::-webkit-scrollbar-thumb {
    background-color: var(--color-gray-300);
    border-radius: 3px;
}

.knowledge-sidebar:not(.knowledge-sidebar-left)::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-gray-400);
}

@media (max-width: 1024px) {
    .knowledge-sidebar.knowledge-sidebar-left {
        align-self: auto;
    }

    .knowledge-sidebar:not(.knowledge-sidebar-left) {
        position: static;
        max-height: none;
        overflow-y: visible;
    }
}

/* ============================================
   Global Breadcrumb Styles
   ============================================ */
.page-breadcrumb {
    padding: var(--spacing-md) 0;
    background: var(--color-gray-50);
    border-bottom: 1px solid var(--color-gray-200);
}

.breadcrumb-wrapper {
    max-width: 960px;
}

.breadcrumb {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: var(--font-size-sm);
    color: var(--color-gray-500);
    flex-wrap: wrap;
}

.breadcrumb a {
    color: var(--color-gray-600);
    transition: color var(--transition);
}

.breadcrumb a:hover {
    color: var(--color-primary);
}

.breadcrumb span:not(:last-child) {
    color: var(--color-gray-400);
}

/* Breadcrumb inside content sections (alternative style) */
.feature-content .breadcrumb,
.case-content .breadcrumb {
    margin-bottom: var(--spacing-xl);
}

/* ============================================
   Block Grid System (Multi-column layouts)
   ============================================ */
.block-row {
    display: flex !important;
    flex-wrap: wrap;
    gap: 24px;
    max-width: var(--container-max-width, 1280px);
    margin: 0 auto;
    padding: var(--spacing-md) var(--spacing-lg);
    box-sizing: border-box;
}

.block-row > .block-column {
    flex: 1 1 auto;
    min-width: 0;
    box-sizing: border-box;
}

.block-row > .block-column-half {
    flex: 0 0 calc(50% - 12px);
    max-width: calc(50% - 12px);
    width: calc(50% - 12px);
}

.block-row > .block-column-third {
    flex: 0 0 calc(33.333% - 16px);
    max-width: calc(33.333% - 16px);
    width: calc(33.333% - 16px);
}

.block-row > .block-column-two-thirds {
    flex: 0 0 calc(66.666% - 8px);
    max-width: calc(66.666% - 8px);
    width: calc(66.666% - 8px);
}

.block-row > .block-column-quarter {
    flex: 0 0 calc(25% - 18px);
    max-width: calc(25% - 18px);
    width: calc(25% - 18px);
}

.block-row > .block-column-three-quarters {
    flex: 0 0 calc(75% - 6px);
    max-width: calc(75% - 6px);
    width: calc(75% - 6px);
}

/* Vertical alignment for columns */
.block-column[data-valign="start"] {
    align-self: flex-start;
}

.block-column[data-valign="center"] {
    align-self: center;
}

.block-column[data-valign="end"] {
    align-self: flex-end;
}

/* Block column content - adapt block styles for column layout */
.block-column {
    display: flex;
    flex-direction: column;
}

.block-column > .block,
.block-column > .section,
.block-column > section {
    flex: 1;
    width: 100%;
    box-sizing: border-box;
}

.block-column .block .container,
.block-column .section .container,
.block-column section .container {
    padding-left: var(--spacing-md);
    padding-right: var(--spacing-md);
    max-width: 100%;
}

/* Reduce padding for blocks inside columns */
.block-column .block.section,
.block-column section.section {
    padding-top: var(--spacing-xl);
    padding-bottom: var(--spacing-xl);
}

/* Responsive: stack on mobile */
@media (max-width: 768px) {
    .block-row {
        flex-direction: column;
        gap: var(--spacing-md);
    }

    .block-row > .block-column-half,
    .block-row > .block-column-third,
    .block-row > .block-column-two-thirds,
    .block-row > .block-column-quarter,
    .block-row > .block-column-three-quarters {
        flex: 0 0 100%;
        max-width: 100%;
        width: 100%;
    }
}

/* ============================================
   Sidebar Menu
   ============================================ */

/* Sidebar Toggle Button */
.sidebar-toggle {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    background: transparent;
    border: none;
    color: var(--color-white);
    font-family: var(--font-primary);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    padding: var(--spacing-sm) var(--spacing-md);
    transition: opacity var(--transition);
}

.sidebar-toggle:hover {
    opacity: 0.8;
}

.sidebar-toggle-icon {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 5px;
    width: 20px;
    height: 16px;
}

.sidebar-toggle-icon span {
    display: block;
    width: 100%;
    height: 2px;
    background-color: var(--color-white);
    transition: transform var(--transition), opacity var(--transition);
    transform-origin: center;
}

/* Sidebar toggle open state */
.sidebar-toggle.active .sidebar-toggle-icon span:first-child {
    transform: translateY(3.5px) rotate(45deg);
}

.sidebar-toggle.active .sidebar-toggle-icon span:last-child {
    transform: translateY(-3.5px) rotate(-45deg);
}

/* Sidebar Overlay */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-slow), visibility var(--transition-slow);
    z-index: 998;
}

.sidebar-overlay.active {
    opacity: 1;
    visibility: visible;
}

/* Sidebar Panel */
.sidebar-menu {
    position: fixed;
    top: 0;
    right: 0;
    width: 360px;
    max-width: 90vw;
    height: 100vh;
    background: var(--black-sinapsis);
    transform: translateX(100%);
    transition: transform var(--transition-slow);
    z-index: 999;
    overflow-y: auto;
    padding: calc(var(--header-height) + var(--spacing-xl)) var(--spacing-xl) var(--spacing-xl);
}

.sidebar-menu.active {
    transform: translateX(0);
}

/* Sidebar Navigation */
.sidebar-nav {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

/* Sidebar Section (collapsible) */
.sidebar-section {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: var(--spacing-sm);
}

.sidebar-section:last-child {
    border-bottom: none;
}

/* Sidebar Section Header - contains link and toggle */
.sidebar-section-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) 0;
}

.sidebar-section-link {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    flex: 1;
    color: var(--color-white);
    font-family: var(--font-primary);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    text-decoration: none;
    transition: color var(--transition);
}

.sidebar-section-link:hover {
    color: var(--yellow-sinapsis);
}

.sidebar-section-link i {
    width: 24px;
    text-align: center;
    opacity: 0.8;
}

.sidebar-section-title {
    flex: 1;
}

.sidebar-section-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: var(--radius-sm);
    color: var(--color-white);
    cursor: pointer;
    transition: background var(--transition), color var(--transition);
}

.sidebar-section-toggle:hover {
    background: rgba(255, 255, 255, 0.2);
    color: var(--yellow-sinapsis);
}

.sidebar-section-arrow {
    font-size: var(--font-size-sm);
    transition: transform var(--transition);
}

.sidebar-section-toggle[aria-expanded="true"] .sidebar-section-arrow {
    transform: rotate(180deg);
}

/* Sidebar Section Items */
.sidebar-section-items {
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height var(--transition-slow);
}

.sidebar-section.expanded .sidebar-section-items {
    max-height: 500px;
}

.sidebar-section-items li {
    padding: 0;
}

/* Simple items (no children) - add right padding to match toggle button width */
.sidebar-section-items > li:not(.sidebar-subsection) > a {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: rgba(255, 255, 255, 0.8);
    font-size: var(--font-size-base);
    padding: var(--spacing-sm) var(--spacing-md);
    padding-right: calc(var(--spacing-md) + 32px); /* Match subsection toggle button space */
    transition: color var(--transition), background var(--transition);
    text-decoration: none;
}

.sidebar-section-items > li:not(.sidebar-subsection) > a:hover {
    color: var(--color-white);
    background: rgba(255, 255, 255, 0.05);
}

.sidebar-section-items > li:not(.sidebar-subsection) > a i {
    width: 20px;
    text-align: center;
    opacity: 0.7;
}

/* Sidebar 3rd level (subsections) */
.sidebar-subsection {
    list-style: none;
}

/* Subsection Header - contains link and toggle */
.sidebar-subsection-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-sm) var(--spacing-md);
}

.sidebar-subsection-link {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    flex: 1;
    color: rgba(255, 255, 255, 0.8);
    font-size: var(--font-size-base);
    text-decoration: none;
    transition: color var(--transition);
}

.sidebar-subsection-link:hover {
    color: var(--color-white);
}

.sidebar-subsection-link i {
    width: 20px;
    text-align: center;
    opacity: 0.7;
}

.sidebar-subsection-link span {
    flex: 1;
}

.sidebar-subsection-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: var(--radius-sm);
    color: rgba(255, 255, 255, 0.8);
    cursor: pointer;
    transition: background var(--transition), color var(--transition);
}

.sidebar-subsection-toggle:hover {
    background: rgba(255, 255, 255, 0.2);
    color: var(--color-white);
}

.sidebar-subsection-arrow {
    font-size: var(--font-size-xs);
    transition: transform var(--transition);
}

.sidebar-subsection-toggle[aria-expanded="true"] .sidebar-subsection-arrow {
    transform: rotate(180deg);
}

.sidebar-subsection-items {
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height var(--transition-slow);
    padding-left: var(--spacing-md);
}

.sidebar-subsection.expanded .sidebar-subsection-items {
    max-height: 300px;
}

.sidebar-subsection-items a {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: rgba(255, 255, 255, 0.6);
    font-size: var(--font-size-sm);
    padding: var(--spacing-xs) var(--spacing-md);
    transition: color var(--transition);
    text-decoration: none;
}

.sidebar-subsection-items a:hover {
    color: var(--color-white);
}

.sidebar-subsection-items a i {
    width: 16px;
    text-align: center;
    opacity: 0.7;
}

/* Single Sidebar Item (no children) */
.sidebar-item {
    padding: var(--spacing-xs) 0;
}

.sidebar-item a {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--color-white);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    padding: var(--spacing-md) 0;
    text-decoration: none;
    transition: color var(--transition);
}

.sidebar-item a:hover {
    color: var(--yellow-sinapsis);
}

.sidebar-item a i {
    width: 24px;
    text-align: center;
}

/* Body class when sidebar is open */
body.sidebar-open {
    overflow: hidden;
}

/* Responsive */
@media (max-width: 768px) {
    .sidebar-toggle span:first-child {
        display: none;
    }

    .sidebar-menu {
        width: 100%;
        max-width: 100%;
    }
}
